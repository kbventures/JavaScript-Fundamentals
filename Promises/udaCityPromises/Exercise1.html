<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Promisify setTimeout</title>
</head>
<body>
	<h1>Did the promise finish?</h1>
	<div class="completion">Not yet</div>
	<script>
		function wait(ms) {
			return new Promise(function(resolve) {
				// console.log(this);
				window.setTimeout(function() {
					resolve();
				}, ms);
			});
		};

		var milliseconds = 2000;
		var milliseconds2 = 3000;
		console.log("Test 0");

		wait(milliseconds).then(finish);
		console.log('Test1');

		wait(milliseconds2).then(finish2).then(finish3);
		console.log('Test3');



		function finish() {
			console.log("Test4");
			var completion = document.querySelector('.completion');
			completion.innerHTML = "Complete after " + milliseconds + "ms.";
		};
		function finish2() {
			console.log("Test5");
			var completion = document.querySelector('.completion');
			completion.innerHTML = "Complete after " + "Test2" + "ms.";
		};

		function finish3() {
			console.log("Test6");
			var completion = document.querySelector('.completion');
			completion.innerHTML = "Complete after " + "Test3" + "ms.";
		};
	</script>
</body>
</html>